<h1>Challenges</h1>

<%#= current_teacher.class.ancestors %>

      <% if @tags.present? %>
        <%= render @challenges.tag.name %>
      <% else %>
        <!-- <p>There are no posts containing the term(s) <%= params[:search] %>.</p> -->
      <% end %>

<% if teacher_signed_in? %>
  <div class="row challenge-cards cards">
    <% @challenges.each do |challenge| %>
    <div class="col-md-4">
      <div class="col-sm-12 panel panel-default">
        <h2><%= challenge.title %></h2>
        <p><%= challenge.text %></p>

        <% challenge.tag_list.each do |tag| %>
          <span class="label label-default"><%= tag %></span>
        <% end %>

        <br>

        <%= link_to 'View', challenge, class: "btn btn-default" %>
        <%= link_to 'Edit', edit_challenge_path(challenge), class: "btn btn-default"%>
        <%= link_to 'Delete', challenge, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-default"%>
      </div>
    </div>
    <% end %>
      <!-- /.col-md-4 -->
  </div>
  
    <%= link_to 'New Challenge', new_challenge_path, class: "btn btn-default new-ch-btn btn-invert" %>     
  <% else %>

    <div class="row challenge-cards cards">
    <% @challenges.each do |challenge| %>
    <div class="col-md-4">
      <div class="col-sm-12 panel panel-default">
        <h2><%= challenge.title %></h2>
        <p><%= challenge.text %></p>
        <%= link_to 'View Challenge', challenge, class: "btn btn-default" %>
      </div>
    </div>
    <% end %>
      <!-- /.col-md-4 -->
  </div>

  <% end %>