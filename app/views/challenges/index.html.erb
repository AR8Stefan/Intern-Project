<h1>Challenges</h1>

<%#= current_teacher.class.ancestors %>



<% if teacher_signed_in? %>
  <div class="row challenge-cards cards">
    <% @challenges.each do |challenge| %>
    <div class="col-md-4">
      <div class="col-sm-12 panel panel-default">
        <h2><%= challenge.title %></h2>
        <p><%= challenge.text %></p>

        <!-- Begin Time Stamp -->
        <%# if @challenge.from_time > Time.now.beginning_of_day %>
          <%#="#{time_ago_in_words(@challenge.from_time)} ago"%> <!-- 3 minutes ago, less than a minute ago  -->
        <%# else %>
          <%#= @challenge.created_at.strftime("%b %d, %Y") %> <!-- Jun 29, 2012 -->
        <%# end %>
        <!-- End Time Stamp -->

        <% challenge.tag_list.each do |tag| %>
          <span class="label label-primary label-tags"><%= tag %></span>
        <% end %>

        <br>

        <%= link_to 'View', challenge, class: "btn btn-default" %>
        <%= link_to 'Edit', edit_challenge_path(challenge), class: "btn btn-default"%>
        <%= link_to 'Delete', challenge, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-default"%>
      </div>

    </div>
    <% end %>
      <!-- /.col-md-4 -->
  </div>
  
    <%= link_to 'New Challenge', new_challenge_path, class: "btn btn-default new-ch-btn btn-invert" %>     
  <% else %>

    <div class="row challenge-cards cards">
    <% @challenges.each do |challenge| %>
    <div class="col-md-4">
      <div class="col-sm-12 panel panel-default">
        <h2><%= challenge.title %></h2>
        <p><%= challenge.text %></p>
        <%= link_to 'View Challenge', challenge, class: "btn btn-default" %>
      </div>
    </div>
    <% end %>
      <!-- /.col-md-4 -->
  </div>

  <% end %>